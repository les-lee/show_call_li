# 一些关于console 的call li

chrome 给我们提供了很多有趣的,但是难以发现的调试工具.下面来一个小集合.这是我在internet上搜罗回来的.

- `console.log($0)`

这个输出的是你当前选择的DOM节点,(注意: 要想输出dom对象,请使用.dir), $1 输出你选择的前一个DOM节点以此类推一直到$4

- `$_`

`$_`关联的是上一次输出的结果,比如,你这一次输出3.14,你再输出一次`$_` 得到的结果就是3.14

- copy(obj)

这是一个window上的全局方法,可以直接把对象或者值复制到粘贴板,然后贴到其他地方去.

- save as global

你试过右键你输出的内容吗?? 现在去试一下吧, 他只会弹出一个选项, 就是这个 保存到全局, 他会为你的值在全局创建一个属性,命名为temp1 以此类推,以防止overwrite

- save stack trace(保存堆栈跟踪)

你可以把你的堆栈跟踪另存为一个文件,在你的错误信息上右键试试?

- dom节点操作

在开发者模式的Element 选项里右键你选中的DOM 节点,你可以添加,删除,还有编辑你的HTML,而且你还可以复制他的HTML, 或者复制当前HTML的文字.甚至还可以复制选择器,而且你还可以直接在上面编辑HTML,不妨试一下? 更厉害的是Element 面板里的元素都是可以拖动并且移动位置的,额外再提一下,ctrl+上下箭头是拖动移位的快捷键还有`h`键可以把你选中的元素隐藏,或者显示

- `console.assert()`

console.assert(),第一个参数如果为false,那么他会打印后面的值,并且在控制台上报红,这可以用于直接调试判空

- `console.table()`

这个函数可以传入两个参数,第一个是数组,类数组或者对象,第二个参数就是输出的表格的列名,他会把第一个参数值变成一个表格输出出来,而且这个表格还是可动态排序跟调成宽高的

- `console.dir()`

上面已经提过,这个可以打印出dom节点对应的对象,或者函数对象.

- 命令行的输出是异步的

在命令行输入以下代码,神奇的事情发生了.

```js
response = await fetch('http://baidu.com');
json = await response.text();
```

## 命令面板

在chrome 调试模式的时候,按下ctrl+shitf+P, 没错跟vscode 打开命令面板的快捷键一模一样,如果你用的是webstorm 上 那就用double shift 这里可以执行所又的命令, 下面来说一下某些命令

- 截屏

你可以选中一个节点, 然后在命令板上输入screenshort 然后选中 node screen short 你可以只截指定节点的图, 不妨去试一下? 当然如果你愿意你可以截全屏

- theme

在命令面输入主题,你可以切换开发者控制台的主题,只有 light 和 dart 两种

## 样式编辑器

- text-shadow,box-shadow等

在调试工具的styles选项卡里面,如果你的样式有上述这些效果,你可以点击属性前面的小图标,就可以用可视化的方式看到各种值表现出来的效果

- transitiion-timing-function,animation-timing-function

在styles 的样式调试面板,如果你的`transiton` 或者`animate`使用了以上两个属性(也就是定义你的动画如何动,是先快后慢,还是先慢后快).那么在属性前面就有一个小图标,你按一下他就会出现可视化的方式看到所有值表现出来的样子.

**注意**: 把鼠标放在你的样式的区域范围内的右下角会有一个三个点竖着排的图标,你移动到他上面,你就可以直接的添加`text-shadow`, `color`,`background-color`

## 断点

断点可以设置条件断点,试想一下如果在一个循环中,你只对100条感兴趣,那么你岂不是要连续点100次的下一个断点吗,想要启动这个功能,若需要在你的代码左边的行号左侧右键就可以看到,`Add conditional breakpoint` 输入一个返回true或者false的表达式就O了

- 条件断点黑魔法

上面说了可以插入一个表达式让他确定这个断点是否暂停,也就是说这个这个表达式会暂停,那么我们就可以在这里写入一个`console.log()`,那么他不会在代码里面出现,但是他会运行.牛逼把

而且在调试面板,所有的断点都会显示出来,你可以右键删除所有的断点.

## queryObjects(arg)

这个全局方法,可以找到当前上下文中拥有的某种类型的对象的个数,传入一个类名.或者构造函数名.

## monitor 函数

`monitor`是`devTools`的一个方法,你可以传入一个函数,然后这个函数执行的时候,控制台就会打印这个函数的参数.这可以省略大部分的`console.log`